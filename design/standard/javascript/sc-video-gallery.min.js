
    var SC={player:null,apiIsLoaded:!1,playerStatus:null,debug:!1,specialStatus:null,log:function(b){SC.debug&&window.console&&console.log("SC-Debug: "+b)}}; (function(b){var d={moduleUrl:"/scvg/playlist/",layerId:"sc-layer",eventPrefix:"scvg",enableLayerClose:0,videoContainer:"sc-video-container",animate:{close:!1},ytPlayerVars:{autoplay:1,version:3,enablejsapi:1,fs:1,hl:"de",modestbranding:1,rel:0,showinfo:0,cc_load_policy:1,autohide:1,html5:1,origin:window.location.origin},translations:{de:{"short-description":"Kurzbeschreibung des Videos","close-gallery":"Videogalerie schlie\u00dfen","long-description":"Beschreibung des Videos f\u00fcr ScreenReader"}}, lang:"de"},k={key:"AIzaSyCZqm0LXDXr6eviOzzv7Z0EvmM6WaRsNaM",part:"snippet",maxResults:15},p={},q={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},e={process:function(a){var c=null,f=null,c=null;if(c=e.detectYoutubePlaylist(a)){p=c;f="https://www.googleapis.com/youtube/v3/playlistItems?";a=b.extend({},k,{playlistId:c.list});c=[];for(i in a)c.push(i+"="+a[i]);c=c.join("&")}else c=a.indexOf(location.hostname)+location.hostname.length+ 1,f=d.moduleUrl,c=a.slice(c).replace(/\//g,"|"),c=encodeURIComponent(c);b.get(f+c,function(a){a="string"===b.type(a)?b.parseJSON(a):a;if("shortcut#playlistListResponse"==a.kind){p=a.playlistParams;for(var c=[],d="https://www.googleapis.com/youtube/v3/videos?",f=[],n=0;n<a.pageInfo.totalResults;n++)c.push(a.dataMaps[n].id);for(key in k)f.push(key+"="+k[key]);f.push("id="+c.join(","));d+=f.join("&");b.get(d,function(c){a.items=c.items;e.insertVideoDetails(a)})}else e.insertVideoDetails(a)})},insertVideoDetails:function(a){var c= b(e.createLayout()),f=b("#sc-navigation",c),h=a.pageInfo.totalResults,k=-1;if(1===d.enableLayerClose)c.on("click."+d.eventPrefix,e.end);b(window).on("resize."+d.eventPrefix,function(){e.resize.apply(c)});for(var l=0;l<h;l++){var m=a.items[l],n=b("<img />",{src:m.snippet.thumbnails["default"].url}),q=b("<h4 />").text(m.snippet.title),r=null,g=null,g=g=null,s="",t=["sc-nav-item","clearfix"];if("shortcut#playlistListResponse"==a.kind){var g=m.id,u=a.dataMaps[l].longdesc;u&&(s=b("<div />",{"class":"template long-desc"}).text(u))}else g= m.snippet.resourceId.videoId;g==p.v&&(t.push("active"),k=l);g=b("<div />",{"class":t.join(" "),"data-ytid":g}).append('<a href="#" ></a>').append(s).appendTo(f);g=g.children("a");m.snippet.description&&(r=b("<p />",{"class":"description"}).text(m.snippet.description),0==l&&(b("i.fa-info-circle",".sc-operating-panel").removeClass("hidden"),r.clone().appendTo("#sc-description")));g.append(n,b("<div />").append(q,r))}b("body").addClass("sc-no-overflow").append(c);e.resize.apply(b("#"+d.layerId));e.loadFirstVideo(k); b(f).perfectScrollbar({suppressScrollX:!0});b("#sc-long-desc").perfectScrollbar({suppressScrollX:!0})},loadVideo:function(){var a=b(".sc-operating-panel"),c=this.find(".long-desc"),d=this.find("p.description");SC.player.loadVideoById(this.data("ytid"));this.siblings().removeClass("active").end().addClass("active");e.insertLongDesc.apply(c,[a]);e.insertDescription.apply(d,[a])},loadFirstVideo:function(a){var c=b(".sc-operating-panel"),f=b("i.fa-info-circle",c),h=b("#sc-navigation").children(".sc-nav-item").eq(a); a=h.find(".long-desc");h=h.find(".description");b("i.fa-times",c).on("click."+d.eventPrefix,e.end);b("i.long-desc",c).on("click."+d.eventPrefix,function(){e.toggleLongDescription.apply(b(this))});e.insertLongDesc.apply(a,[c]);0<h.length&&e.insertDescription.apply(h);f.on("click."+d.eventPrefix,e.toggleDesc);b(".sc-nav-item").on("click."+d.eventPrefix,function(){e.loadVideo.apply(b(this));return!1});SC.player=new YT.Player("sc-player",{videoId:p.v,playerVars:d.ytPlayerVars,events:{onReady:e.events.onReady, onStateChange:e.events.onStateChange,onError:e.events.onError}})},insertLongDesc:function(a){a=a?a:b(".sc-operating-panel");var c=b("#sc-long-desc");c.empty();0<this.length?(e.toggleLongDescription.apply(b("i.long-desc",a),["video",!1]),this.first().clone().removeClass("template").appendTo(c)):e.toggleLongDescription.apply(b("i.long-desc",a),["disable"])},insertDescription:function(a){a=a?a:b(".sc-operating-panel");var c=b("#sc-description");c.empty();0<this.length?(b("i.fa-info-circle",a).removeClass("hidden"), this.clone().appendTo(c)):b("i.fa-info-circle",a).addClass("hidden")},toggleDesc:function(){var a=b("i.fa-info-circle",".sc-operating-panel"),c=!1;null===SC.specialStatus?(c=!0,SC.specialStatus="desc"):"desc"==SC.specialStatus&&(c=!0,SC.specialStatus=null);c&&(a.toggleClass("active"),b("#sc-description").toggle("fast"))},toggleLongDescription:function(a,c){a&&"toggle"!=a||(a=this.hasClass("fa-bars")?"ld":"video");c=void 0!=c?c:!0;switch(a){case "disable":this.addClass("hidden");c=!1;break;case "ld":if(null!== SC.specialStatus)return;this.removeClass("hidden fa-bars").addClass("fa-file-video-o active");SC.specialStatus="ld";1!=SC.playerStatus&&3!=SC.playerStatus||SC.player.pauseVideo();break;case "video":this.removeClass("hidden active fa-file-video-o").addClass("fa-bars");SC.specialStatus=null;2==SC.playerStatus&&SC.player.playVideo();break;default:throw"not a valid status in toggleLongDesc()";}c&&b("#sc-long-desc").slideToggle(400).perfectScrollbar("update")},resize:function(){var a=b("."+d.videoContainer), c=this.find("iframe"),e=(b(window).height()-a.height())/2;this.offset({top:window.scrollY});a.css("marginTop",e);0<c.length&&(c=c.first().width(),a=a.width()-c,b("#sc-navigation").width(a),b("#sc-description").css("maxWidth",c))},end:function(){d.animate.close&&Modernizr.cssanimations?(SC.player.pauseVideo(),b("."+d.videoContainer).addClass("animate-out")):e.remove()},remove:function(){SC.specialStatus=null;b("#"+d.layerId).remove();b("body").removeClass("sc-no-overflow")},detectYoutubePlaylist:function(a){if(-1< a.indexOf("https://www.youtube.com")){var c={};a=a.split("?").pop().split("&");for(var b=0;b<a.length;b++){var d=a[b].split("=");c[d[0]]=d[1]}if("v"in c&&"list"in c)return c}return null},createLayout:function(){return'<div id="'+d.layerId+'"><div class="'+d.videoContainer+' hidden" ><div class="sc-operating-panel"><i title="'+e.trans("short-description")+'" class="fa fa-info-circle fa-2x fa-fw hidden"></i><i title="'+e.trans("long-description")+'" class="fa fa-bars fa-2x fa-fw long-desc hidden"></i><i title="'+ e.trans("close-gallery")+'" class="fa fa-times fa-2x fa-fw"></i></div><div class="sc-ratio-wrapper"><div id="sc-navigation" ></div><div id="sc-description"></div><div id="sc-player"></div></div><div id="sc-long-desc"></div></div></div'},trans:function(a){return void 0!==d.translations[d.lang][a]?d.translations[d.lang][a]:null},events:{onReady:function(a){a=b("#"+d.layerId);if(d.animate.close)b("."+d.videoContainer).on(q[Modernizr.prefixed("animation")],e.remove);b("."+d.videoContainer).removeClass("hidden"); a.addClass("simple");e.resize.apply(a)},onStateChange:function(a){SC.playerStatus=a.data;SC.log("statechange to "+a.data)},onError:function(a){SC.log(a.data)}}};b.fn.scVideoGallery=function(a){b.extend(d,a);return this.each(function(){var a=b(this);a.on("click."+d.eventPrefix,{url:a.prop("href")},function(b){b.preventDefault();b.stopPropagation();e.process.apply(a,[b.data.url]);return!1})})};b(function(){b(".sc-video-starter").scVideoGallery()})})(jQuery); function onYouTubeIframeAPIReady(){SC.apiIsLoaded=!0};

